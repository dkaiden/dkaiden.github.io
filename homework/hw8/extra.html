<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Extra Credit - Dog API Demo</title>
    <link rel="stylesheet" href="../../../css/global/main.css">
    <link rel="stylesheet" href="../../../css/homework/hw7.css">
    <style>
        main { max-width: 800px; margin: auto; padding: 20px; }
        img { max-width: 300px; margin: 15px; border: 3px solid var(--border-color); border-radius: 8px; }
        .dog-demo { margin: 30px 0; }
    </style>
</head>
<body>
    <main>
        <h1>Dog API Demo - Extra Credit</h1>
        
        <section class="dog-demo">
            <div>
                <button type="button" class="btn" onclick="getRandomDog()">Get Random Dog</button>
                <button type="button" class="btn" onclick="getThreeDogs()">Get 3 Dogs</button>
            </div>
            
            <div id="dogContainer" style="margin-top: 20px;"></div>
            
            <p style="margin-top: 20px;"><strong>How it works:</strong> This page uses the Fetch API to call the Dog CEO Dog API and display images without refreshing the page. The API returns JSON data with image URLs.</p>
        </section>
        
        <nav class="nav-links">
            <a href="index.html" class="back-link">Back to Homework 8 Main Page</a>
            <a href="../../../hw1.html" class="back-link">Back to Assignments</a>
        </nav>
    </main>

    <script>
        const dogContainer = document.getElementById('dogContainer');
        
        async function getRandomDog() {
            try {
                const response = await fetch('https://dog.ceo/api/breeds/image/random');
                const data = await response.json();
                dogContainer.innerHTML = `<img src="${data.message}" alt="Random dog">`;
            } catch (error) {
                dogContainer.innerHTML = '<p>Error loading dog image. Please try again.</p>';
            }
        }
        
        async function getThreeDogs() {
            try {
                const response = await fetch('https://dog.ceo/api/breeds/image/random/3');
                const data = await response.json();
                dogContainer.innerHTML = data.message.map(url => `<img src="${url}" alt="Dog">`).join('');
            } catch (error) {
                dogContainer.innerHTML = '<p>Error loading dog images. Please try again.</p>';
            }
        }
        
        // Load a dog on page start
        getRandomDog();
    </script>
</body>
</html>